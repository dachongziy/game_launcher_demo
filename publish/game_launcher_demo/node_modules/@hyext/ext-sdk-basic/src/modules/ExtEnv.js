import common from '../common';

const MODULE_NAME = 'MiniAppEnv';


export default {
  /**
   * 环境信息
   * @namespace env
   */
  env: {
    /**
     * @typedef {Object} VersionInfo
     * @property {number} versionType - 返回当前版本类型,1-开发版本,2-灰度版本,3-正式版本
     */
    /**
     * 获取当前版本类型
     * @returns {Promise<VersionInfo>}
     */
    getVersionType() {
      return common.core.callEvent(MODULE_NAME, 'getVersionType');
    },

    /**
     * 获取初始化参数
     * @returns {Promise<Object>} 初始化参数
     */
    getInitialParam() {
      return common.core.callEvent(MODULE_NAME, 'getInitialParam');
    },

    /**
     * 获取小程序启动参数
     * @returns {Promise<Object>} 小程序启动参数
     */
    getExtInfo() {
      return common.core.callEvent(MODULE_NAME, 'getExtInfo');
    },

    /**
     * 获取宿主信息接口，使用querystring解析rn bundle的查询串参数，返回给小程序
     * @returns {Promise<Object>} 宿主信息
     */
    getHostInfo() {
      return common.core.callEvent(MODULE_NAME, 'getHostInfo');
    }
  }
};

