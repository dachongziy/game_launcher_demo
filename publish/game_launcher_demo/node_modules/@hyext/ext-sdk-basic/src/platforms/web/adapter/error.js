export default {
  /**
   * 初始化全局报错监听
   * @param {*} listener 
   */
  initListener(listener) {
    window.addEventListener('error', e => {
      if (typeof listener !== 'function') return;
      listener({
        message: e.message,
        line: e.lineno,
        column: e.colno,
        stack: e.stack || e.error && e.error.stack,
        sourceURL: e.filename,
        Error: e
      });
    }, true);
  },

  // rejectListener() {
  //   // 未设置 catch
  //   window.addEventListener('unhandledrejection', e => { });

  //   // reject
  //   window.addEventListener('rejectionhandled', e => { })
  // }
}